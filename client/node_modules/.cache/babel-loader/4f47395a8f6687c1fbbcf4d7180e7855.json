{"ast":null,"code":"import _slicedToArray from\"/Users/jiho/Desktop/dev/project/react-bittersweet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"css/App.module.css\";import Nav from\"components/Nav\";import Footer from\"components/Footer\";import FormOfNoticeDetail from\"components/whatsnew/FormOfNoticeDetail\";import{useNavigate,useParams}from\"react-router-dom\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NoticeDetail(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useParams=useParams(),_id=_useParams._id;var navigate=useNavigate();var getPosts=function getPosts(){axios.get(\"\".concat(process.env.REACT_APP_HOST,\"/api/posting\")).then(function(response){var post=response.data;setPosts(post);});};var filteredNoticeDetail=posts.filter(function(item){return item._id===_id;});var handleDelete=function handleDelete(){axios.delete(\"\".concat(process.env.REACT_APP_HOST,\"/api/posting/\").concat(_id)).then(navigate(-1));};useEffect(function(){getPosts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"h2\",{className:styles.page_title,children:\"NOTICE DETAIL\"}),filteredNoticeDetail.map(function(item){return/*#__PURE__*/_jsx(FormOfNoticeDetail,{_id:item._id,title:item.title,date:item.date.substring(0,10),writer:item.writer,content:item.content,deleteOnClick:handleDelete},item.id);}),/*#__PURE__*/_jsx(Footer,{})]});}export default NoticeDetail;","map":{"version":3,"names":["styles","Nav","Footer","FormOfNoticeDetail","useNavigate","useParams","useState","useEffect","axios","NoticeDetail","posts","setPosts","_id","navigate","getPosts","get","process","env","REACT_APP_HOST","then","response","post","data","filteredNoticeDetail","filter","item","handleDelete","delete","page_title","map","title","date","substring","writer","content","id"],"sources":["/Users/jiho/Desktop/dev/project/react-bittersweet/client/src/routes/whatsNew/NoticeDetail.js"],"sourcesContent":["import styles from \"css/App.module.css\";\nimport Nav from \"components/Nav\";\nimport Footer from \"components/Footer\";\nimport FormOfNoticeDetail from \"components/whatsnew/FormOfNoticeDetail\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nfunction NoticeDetail() {\n  const [posts, setPosts] = useState([]);\n  const { _id } = useParams();\n  const navigate = useNavigate();\n\n  const getPosts = () => {\n    axios.get(`${process.env.REACT_APP_HOST}/api/posting`).then((response) => {\n      let post = response.data;\n      setPosts(post);\n    });\n  };\n\n  const filteredNoticeDetail = posts.filter((item) => {\n    return item._id === _id;\n  });\n\n  const handleDelete = () => {\n    axios\n      .delete(`${process.env.REACT_APP_HOST}/api/posting/${_id}`)\n      .then(navigate(-1));\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  return (\n    <div>\n      <Nav />\n      <h2 className={styles.page_title}>NOTICE DETAIL</h2>\n      {filteredNoticeDetail.map((item) => {\n        return (\n          <FormOfNoticeDetail\n            key={item.id}\n            _id={item._id}\n            title={item.title}\n            date={item.date.substring(0, 10)}\n            writer={item.writer}\n            content={item.content}\n            deleteOnClick={handleDelete}\n          />\n        );\n      })}\n      <Footer />\n    </div>\n  );\n}\nexport default NoticeDetail;\n"],"mappings":"8IAAA,MAAOA,OAAM,KAAM,oBAAoB,CACvC,MAAOC,IAAG,KAAM,gBAAgB,CAChC,MAAOC,OAAM,KAAM,mBAAmB,CACtC,MAAOC,mBAAkB,KAAM,wCAAwC,CACvE,OAASC,WAAW,CAAEC,SAAS,KAAQ,kBAAkB,CACzD,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,QAASC,aAAY,EAAG,CACtB,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eACtB,eAAgBN,SAAS,EAAE,CAAnBO,GAAG,YAAHA,GAAG,CACX,GAAMC,SAAQ,CAAGT,WAAW,EAAE,CAE9B,GAAMU,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrBN,KAAK,CAACO,GAAG,WAAIC,OAAO,CAACC,GAAG,CAACC,cAAc,iBAAe,CAACC,IAAI,CAAC,SAACC,QAAQ,CAAK,CACxE,GAAIC,KAAI,CAAGD,QAAQ,CAACE,IAAI,CACxBX,QAAQ,CAACU,IAAI,CAAC,CAChB,CAAC,CAAC,CACJ,CAAC,CAED,GAAME,qBAAoB,CAAGb,KAAK,CAACc,MAAM,CAAC,SAACC,IAAI,CAAK,CAClD,MAAOA,KAAI,CAACb,GAAG,GAAKA,GAAG,CACzB,CAAC,CAAC,CAEF,GAAMc,aAAY,CAAG,QAAfA,aAAY,EAAS,CACzBlB,KAAK,CACFmB,MAAM,WAAIX,OAAO,CAACC,GAAG,CAACC,cAAc,yBAAgBN,GAAG,EAAG,CAC1DO,IAAI,CAACN,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CACvB,CAAC,CAEDN,SAAS,CAAC,UAAM,CACdO,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,oCACE,KAAC,GAAG,IAAG,cACP,WAAI,SAAS,CAAEd,MAAM,CAAC4B,UAAW,2BAAmB,CACnDL,oBAAoB,CAACM,GAAG,CAAC,SAACJ,IAAI,CAAK,CAClC,mBACE,KAAC,kBAAkB,EAEjB,GAAG,CAAEA,IAAI,CAACb,GAAI,CACd,KAAK,CAAEa,IAAI,CAACK,KAAM,CAClB,IAAI,CAAEL,IAAI,CAACM,IAAI,CAACC,SAAS,CAAC,CAAC,CAAE,EAAE,CAAE,CACjC,MAAM,CAAEP,IAAI,CAACQ,MAAO,CACpB,OAAO,CAAER,IAAI,CAACS,OAAQ,CACtB,aAAa,CAAER,YAAa,EANvBD,IAAI,CAACU,EAAE,CAOZ,CAEN,CAAC,CAAC,cACF,KAAC,MAAM,IAAG,GACN,CAEV,CACA,cAAe1B,aAAY"},"metadata":{},"sourceType":"module"}