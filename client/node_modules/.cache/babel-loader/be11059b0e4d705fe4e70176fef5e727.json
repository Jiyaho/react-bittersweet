{"ast":null,"code":"import _slicedToArray from\"/Users/jiho/Desktop/dev/project/react-bittersweet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from\"css/App.module.css\";import Nav from\"components/Nav\";import Footer from\"components/Footer\";import{useParams}from\"react-router-dom\";import{useState,useEffect}from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function NoticeEdit(){var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];var _useParams=useParams(),_id=_useParams._id;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),writer=_useState4[0],setWriter=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),content=_useState8[0],setContent=_useState8[1];var getPosts=function getPosts(){axios.get(\"/api/posting\").then(function(response){var post=response.data;setPosts(post);});};var filteredPost=posts.filter(function(item){return item._id===_id;});var onWriterHandler=function onWriterHandler(e){setWriter(e.target.value);};var onTitleHandler=function onTitleHandler(e){setTitle(e.target.value);};var onContentHandler=function onContentHandler(e){setContent(e.target.value);};var onEditSubmit=function onEditSubmit(e){e.preventDefault();var body={writer:writer,title:title,content:content};var request=axios.patch(\"\".concat(process.env.REACT_APP_HOST,\"/api/posting/\").concat(_id),body).then(function(response){return response.data;});alert(\"수정 완료!\");navigate(\"/notice\");return{type:\"user_editing\",payload:request};};var onClickCancle=function onClickCancle(){if(window.confirm(\"등록을 취소 하시겠습니까?\")===true){navigate(\"/notice\");}else{return;}};useEffect(function(){getPosts();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"h2\",{className:styles.page_title,children:\"EDIT POST\"}),filteredPost.map(function(item){return/*#__PURE__*/_jsx(\"div\",{className:styles.wrapNoticeWrite,children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:onEditSubmit,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{placeholder:item.writer,type:\"text\",required:\"required\",max:\"10\",className:styles.titleInput,onChange:onWriterHandler,value:writer}),/*#__PURE__*/_jsx(\"input\",{placeholder:item.title,type:\"text\",required:\"required\",max:\"10\",className:styles.titleInput,onChange:onTitleHandler,value:title}),/*#__PURE__*/_jsx(\"div\",{className:styles.contentWrap,children:/*#__PURE__*/_jsx(\"textarea\",{cols:\"50\",rows:\"10\",placeholder:item.content,onChange:onContentHandler,value:content})}),/*#__PURE__*/_jsxs(\"div\",{className:styles.noticeWriteBtnWrap,children:[/*#__PURE__*/_jsx(\"button\",{className:styles.postCancleBtn,onClick:onClickCancle,children:\"\\uCDE8\\uC18C\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.postBtn,onSubmit:onEditSubmit,value:_id,children:\"\\uB4F1\\uB85D\"})]})]})})},item._id);}),/*#__PURE__*/_jsx(Footer,{})]});}export default NoticeEdit;","map":{"version":3,"names":["styles","Nav","Footer","useParams","useState","useEffect","axios","useNavigate","NoticeEdit","navigate","posts","setPosts","_id","writer","setWriter","title","setTitle","content","setContent","getPosts","get","then","response","post","data","filteredPost","filter","item","onWriterHandler","e","target","value","onTitleHandler","onContentHandler","onEditSubmit","preventDefault","body","request","patch","process","env","REACT_APP_HOST","alert","type","payload","onClickCancle","window","confirm","page_title","map","wrapNoticeWrite","titleInput","contentWrap","noticeWriteBtnWrap","postCancleBtn","postBtn"],"sources":["/Users/jiho/Desktop/dev/project/react-bittersweet/client/src/routes/whatsNew/NoticeEdit.js"],"sourcesContent":["import styles from \"css/App.module.css\";\nimport Nav from \"components/Nav\";\nimport Footer from \"components/Footer\";\nimport { useParams } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\n\nfunction NoticeEdit() {\n  const navigate = useNavigate();\n  const [posts, setPosts] = useState([]);\n  const { _id } = useParams();\n  const [writer, setWriter] = useState(\"\");\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n\n  const getPosts = () => {\n    axios.get(\"/api/posting\").then((response) => {\n      let post = response.data;\n      setPosts(post);\n    });\n  };\n\n  const filteredPost = posts.filter((item) => {\n    return item._id === _id;\n  });\n\n  const onWriterHandler = (e) => {\n    setWriter(e.target.value);\n  };\n  const onTitleHandler = (e) => {\n    setTitle(e.target.value);\n  };\n  const onContentHandler = (e) => {\n    setContent(e.target.value);\n  };\n\n  const onEditSubmit = (e) => {\n    e.preventDefault();\n    let body = {\n      writer: writer,\n      title: title,\n      content: content,\n    };\n    const request = axios\n      .patch(`${process.env.REACT_APP_HOST}/api/posting/${_id}`, body)\n      .then((response) => response.data);\n    alert(\"수정 완료!\");\n    navigate(\"/notice\");\n\n    return {\n      type: \"user_editing\",\n      payload: request,\n    };\n  };\n\n  const onClickCancle = () => {\n    if (window.confirm(\"등록을 취소 하시겠습니까?\") === true) {\n      navigate(\"/notice\");\n    } else {\n      return;\n    }\n  };\n\n  useEffect(() => {\n    getPosts();\n  }, []);\n\n  return (\n    <div>\n      <Nav />\n      <h2 className={styles.page_title}>EDIT POST</h2>\n      {filteredPost.map((item) => {\n        return (\n          <div key={item._id} className={styles.wrapNoticeWrite}>\n            <div>\n              <form onSubmit={onEditSubmit}>\n                <br />\n                <input\n                  placeholder={item.writer}\n                  type=\"text\"\n                  required=\"required\"\n                  max=\"10\"\n                  className={styles.titleInput}\n                  onChange={onWriterHandler}\n                  value={writer}\n                />\n                <input\n                  placeholder={item.title}\n                  type=\"text\"\n                  required=\"required\"\n                  max=\"10\"\n                  className={styles.titleInput}\n                  onChange={onTitleHandler}\n                  value={title}\n                />\n                <div className={styles.contentWrap}>\n                  <textarea\n                    cols=\"50\"\n                    rows=\"10\"\n                    placeholder={item.content}\n                    onChange={onContentHandler}\n                    value={content}\n                  />\n                </div>\n                <div className={styles.noticeWriteBtnWrap}>\n                  <button\n                    className={styles.postCancleBtn}\n                    onClick={onClickCancle}\n                  >\n                    취소\n                  </button>\n                  <button\n                    type=\"submit\"\n                    className={styles.postBtn}\n                    onSubmit={onEditSubmit}\n                    value={_id}\n                  >\n                    등록\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        );\n      })}\n      <Footer />\n    </div>\n  );\n}\n\nexport default NoticeEdit;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}