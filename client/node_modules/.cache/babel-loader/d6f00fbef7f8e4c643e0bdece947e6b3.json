{"ast":null,"code":"import _slicedToArray from\"/Users/jiho/Desktop/dev/project/react-bittersweet/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link,useNavigate}from\"react-router-dom\";import styles from\"css/App.module.css\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faDroplet,faBars}from\"@fortawesome/free-solid-svg-icons\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Nav(){var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),toggleBtn=_useState2[0],setToggleBtn=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isLogin=_useState4[0],setIsLogin=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),logInUserName=_useState6[0],setLogInUserName=_useState6[1];var handleToggleBtn=function handleToggleBtn(){setToggleBtn(!toggleBtn);};var onClickHandler=function onClickHandler(){axios.get(\"/api/users/logout\").then(function(response){if(response.data.success){navigate(\"/\");alert(\"로그아웃 하였습니다.\");setIsLogin(true);}});};var getUserName=function getUserName(){axios.get(\"/api/users\").then(function(response){var user=response.data;console.log(user);if(user.toString().includes(\"object\")){setIsLogin(true);setLogInUserName(\"🔐LOG-IN\");}else{setIsLogin(false);// setLogInUserName(`${user}님 🔓LOG-OUT`);\n}});};useEffect(function(){getUserName();},[isLogin,logInUserName]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.navbar,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faDroplet,className:styles.navbar_svg}),/*#__PURE__*/_jsx(\"span\",{className:styles.navbar_logo,children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Bittersweet\"})})]}),/*#__PURE__*/_jsxs(\"ul\",{className:!toggleBtn?styles.navbar_menu:styles.navbar_menuToggle,children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"HOME\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/about\",children:\"ABOUT US\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/menu\",children:\"MENU\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/store\",children:\"STORE\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/faq\",children:\"FAQ\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/notice\",children:\"WHAT'S NEW\"})})]}),isLogin?/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:!toggleBtn?styles.navbar_login:styles.navbar_loginToggle,onClick:onClickHandler,value:logInUserName,children:logInUserName})}):/*#__PURE__*/_jsx(\"button\",{className:!toggleBtn?styles.navbar_logout:styles.navbar_loginToggle,onClick:onClickHandler,value:logInUserName,children:\"\\uD83D\\uDD13LOG-OUT\"}),/*#__PURE__*/_jsx(Link,{to:\"#\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:handleToggleBtn,icon:faBars,className:styles.navbar_toggleBtn})})]});}export default Nav;","map":{"version":3,"names":["Link","useNavigate","styles","FontAwesomeIcon","faDroplet","faBars","useEffect","useState","axios","Nav","navigate","toggleBtn","setToggleBtn","isLogin","setIsLogin","logInUserName","setLogInUserName","handleToggleBtn","onClickHandler","get","then","response","data","success","alert","getUserName","user","console","log","toString","includes","navbar","navbar_svg","navbar_logo","navbar_menu","navbar_menuToggle","navbar_login","navbar_loginToggle","navbar_logout","navbar_toggleBtn"],"sources":["/Users/jiho/Desktop/dev/project/react-bittersweet/client/src/components/Nav.js"],"sourcesContent":["import { Link, useNavigate } from \"react-router-dom\";\nimport styles from \"css/App.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faDroplet, faBars } from \"@fortawesome/free-solid-svg-icons\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nfunction Nav() {\n  const navigate = useNavigate();\n  const [toggleBtn, setToggleBtn] = useState(false);\n  const [isLogin, setIsLogin] = useState(false);\n  const [logInUserName, setLogInUserName] = useState(\"\");\n\n  const handleToggleBtn = () => {\n    setToggleBtn(!toggleBtn);\n  };\n\n  const onClickHandler = () => {\n    axios.get(\"/api/users/logout\").then((response) => {\n      if (response.data.success) {\n        navigate(\"/\");\n        alert(\"로그아웃 하였습니다.\");\n        setIsLogin(true);\n      }\n    });\n  };\n\n  const getUserName = () => {\n    axios.get(\"/api/users\").then((response) => {\n      let user = response.data;\n      console.log(user);\n      if (user.toString().includes(\"object\")) {\n        setIsLogin(true);\n        setLogInUserName(\"🔐LOG-IN\");\n      } else {\n        setIsLogin(false);\n        // setLogInUserName(`${user}님 🔓LOG-OUT`);\n      }\n    });\n  };\n\n  useEffect(() => {\n    getUserName();\n  }, [isLogin, logInUserName]);\n\n  return (\n    <div className={styles.navbar}>\n      <div>\n        <FontAwesomeIcon icon={faDroplet} className={styles.navbar_svg} />\n        <span className={styles.navbar_logo}>\n          <Link to={`/`}>Bittersweet</Link>\n        </span>\n      </div>\n      <ul\n        className={!toggleBtn ? styles.navbar_menu : styles.navbar_menuToggle}\n      >\n        <li>\n          <Link to={`/`}>HOME</Link>\n        </li>\n        <li>\n          <Link to={`/about`}>ABOUT US</Link>\n        </li>\n        <li>\n          <Link to={`/menu`}>MENU</Link>\n        </li>\n        <li>\n          <Link to={`/store`}>STORE</Link>\n        </li>\n        <li>\n          <Link to={`/faq`}>FAQ</Link>\n        </li>\n        <li>\n          <Link to={`/notice`}>WHAT'S NEW</Link>\n        </li>\n      </ul>\n\n      {isLogin ? (\n        <Link to={`/login`}>\n          <button\n            className={\n              !toggleBtn ? styles.navbar_login : styles.navbar_loginToggle\n            }\n            onClick={onClickHandler}\n            value={logInUserName}\n          >\n            {logInUserName}\n          </button>\n        </Link>\n      ) : (\n        <button\n          className={\n            !toggleBtn ? styles.navbar_logout : styles.navbar_loginToggle\n          }\n          onClick={onClickHandler}\n          value={logInUserName}\n        >\n          🔓LOG-OUT\n        </button>\n      )}\n      <Link to={`#`}>\n        <FontAwesomeIcon\n          onClick={handleToggleBtn}\n          icon={faBars}\n          className={styles.navbar_toggleBtn}\n        />\n      </Link>\n    </div>\n  );\n}\nexport default Nav;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}